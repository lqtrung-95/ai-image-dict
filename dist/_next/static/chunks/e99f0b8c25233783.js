(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";var t=e.i(43476),s=e.i(75157);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function l({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function r({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...a})}function c({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>c,"CardDescription",()=>i,"CardHeader",()=>l,"CardTitle",()=>r])},41947,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["default",()=>t])},43531,e=>{"use strict";var t=e.i(78745);e.s(["Check",()=>t.default])},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},16715,e=>{"use strict";let t=(0,e.i(75254).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],16715)},37727,e=>{"use strict";var t=e.i(41947);e.s(["X",()=>t.default])},20278,e=>{"use strict";let t=(0,e.i(75254).default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);e.s(["Target",()=>t],20278)},64030,e=>{"use strict";let t=(0,e.i(75254).default)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);e.s(["Trophy",()=>t],64030)},55711,e=>{"use strict";let t=(0,e.i(75254).default)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]);e.s(["Brain",()=>t],55711)},54924,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(15288),l=e.i(19455),r=e.i(92163),i=e.i(55711),c=e.i(20278),n=e.i(71689),d=e.i(43531),o=e.i(16715),h=e.i(64030),x=e.i(75157),m=e.i(46696),u=e.i(41931);function p(){let[e,r]=(0,s.useState)([]),[i,c]=(0,s.useState)([]),[n,p]=(0,s.useState)([]),[g,b]=(0,s.useState)(0),[f,j]=(0,s.useState)(0),[N,y]=(0,s.useState)(!0),[v,w]=(0,s.useState)(!1),[k,M]=(0,s.useState)(!1),C=(0,s.useCallback)(async()=>{try{let e=await (0,u.apiFetch)("/api/vocabulary?limit=20");if(e.ok){let t=await e.json();r(t.items||[]),S(t.items||[])}}catch(e){m.toast.error("Failed to load vocabulary")}finally{y(!1)}},[]);(0,s.useEffect)(()=>{C()},[C]);let S=e=>{if(e.length<4)return;let t=[...e].sort(()=>Math.random()-.5).slice(0,6),s=[];t.forEach(e=>{s.push({id:`zh-${e.id}`,content:e.word_zh,type:"chinese",originalId:e.id,isFlipped:!1,isMatched:!1}),s.push({id:`en-${e.id}`,content:e.word_en,type:"english",originalId:e.id,isFlipped:!1,isMatched:!1})}),c(s.sort(()=>Math.random()-.5)),b(0),j(0),w(!1),p([])};return N?(0,t.jsx)(a.Card,{className:"bg-slate-800/50 border-slate-700 p-8 text-center",children:(0,t.jsx)("div",{className:"h-8 w-48 bg-slate-700 rounded animate-pulse mx-auto"})}):e.length<4?(0,t.jsx)(a.Card,{className:"bg-slate-800/50 border-slate-700 p-8 text-center",children:(0,t.jsx)("p",{className:"text-slate-400",children:"You need at least 4 words in your vocabulary to play. Start by capturing some photos!"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:f}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Moves"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-purple-400",children:[g,"/6"]}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Matched"})]})]}),(0,t.jsxs)(l.Button,{variant:"outline",onClick:()=>{S(e)},className:"border-slate-600",children:[(0,t.jsx)(o.RefreshCw,{className:"w-4 h-4 mr-2"}),"New Game"]})]}),v&&(0,t.jsxs)(a.Card,{className:"bg-gradient-to-br from-green-600/20 to-emerald-600/20 border-green-500/30 p-6 text-center",children:[(0,t.jsx)(h.Trophy,{className:"w-12 h-12 text-green-400 mx-auto mb-3"}),(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"Well Done!"}),(0,t.jsxs)("p",{className:"text-slate-300",children:["You completed the game in ",f," moves"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-3",children:i.map((e,s)=>(0,t.jsx)("button",{onClick:()=>(e=>{if(k||i[e].isMatched||i[e].isFlipped||n.length>=2)return;let t=[...i];t[e].isFlipped=!0,c(t);let s=[...n,e];if(p(s),2===s.length){M(!0),j(e=>e+1);let[e,a]=s,l=t[e],r=t[a];l.originalId===r.originalId?setTimeout(()=>{t[e].isMatched=!0,t[a].isMatched=!0,c([...t]),b(e=>e+1),p([]),M(!1),g+1===6&&(w(!0),m.toast.success("Congratulations! You completed the game!"))},500):setTimeout(()=>{t[e].isFlipped=!1,t[a].isFlipped=!1,c([...t]),p([]),M(!1)},1e3)}})(s),disabled:e.isMatched||k,className:(0,x.cn)("aspect-square rounded-xl p-2 text-center transition-all duration-300 font-medium",e.isMatched&&"bg-green-500/20 border-2 border-green-500/50 opacity-50",e.isFlipped&&!e.isMatched&&"bg-purple-600 border-2 border-purple-500",!e.isFlipped&&!e.isMatched&&"bg-slate-700 border-2 border-slate-600 hover:border-slate-500","chinese"===e.type&&e.isFlipped&&"text-xl"),children:e.isFlipped||e.isMatched?(0,t.jsxs)("div",{className:"h-full flex flex-col items-center justify-center",children:[(0,t.jsx)("span",{className:(0,x.cn)("text-white line-clamp-2","chinese"===e.type?"text-lg":"text-sm"),children:e.content}),e.isMatched&&(0,t.jsx)(d.Check,{className:"w-5 h-5 text-green-400 mt-1"})]}):(0,t.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-2xl",children:"?"})})},e.id))}),(0,t.jsx)("p",{className:"text-center text-sm text-slate-500",children:"Flip cards to find matching pairs. Match Chinese with English!"})]})}let g=s.forwardRef(({className:e,value:s,max:a=100,...l},r)=>{let i=Math.min(100,Math.max(0,s/a*100));return(0,t.jsx)("div",{ref:r,className:(0,x.cn)("relative h-2 w-full overflow-hidden rounded-full bg-slate-700",e),...l,children:(0,t.jsx)("div",{className:"h-full bg-purple-500 transition-all duration-300",style:{width:`${i}%`}})})});g.displayName="Progress";var b=e.i(37727);function f(){let[e,r]=(0,s.useState)([]),[i,c]=(0,s.useState)([]),[n,p]=(0,s.useState)(0),[f,j]=(0,s.useState)(null),[N,y]=(0,s.useState)(0),[v,w]=(0,s.useState)(!0),[k,M]=(0,s.useState)(!1),[C,S]=(0,s.useState)(!1),F=(0,s.useCallback)(async()=>{try{let e=await (0,u.apiFetch)("/api/vocabulary?limit=30");if(e.ok){let t=await e.json();r(t.items||[]),B(t.items||[])}}catch(e){m.toast.error("Failed to load vocabulary")}finally{w(!1)}},[]);(0,s.useEffect)(()=>{F()},[F]);let B=e=>{e.length<4||(c([...e].sort(()=>Math.random()-.5).slice(0,10).map(t=>{let s=[...e.filter(e=>e.id!==t.id).sort(()=>Math.random()-.5).slice(0,3).map(e=>e.word_en),t.word_en].sort(()=>Math.random()-.5);return{word:t,options:s,correctIndex:s.indexOf(t.word_en)}})),p(0),y(0),M(!1),j(null),S(!1))};if(v)return(0,t.jsx)(a.Card,{className:"bg-slate-800/50 border-slate-700 p-8 text-center",children:(0,t.jsx)("div",{className:"h-8 w-48 bg-slate-700 rounded animate-pulse mx-auto"})});if(e.length<4)return(0,t.jsx)(a.Card,{className:"bg-slate-800/50 border-slate-700 p-8 text-center",children:(0,t.jsx)("p",{className:"text-slate-400",children:"You need at least 4 words in your vocabulary to play. Start by capturing some photos!"})});if(k){let s=Math.round(N/i.length*100);return(0,t.jsxs)(a.Card,{className:"bg-slate-800/50 border-slate-700 p-8 text-center",children:[(0,t.jsx)(h.Trophy,{className:"w-16 h-16 text-yellow-400 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Quiz Complete!"}),(0,t.jsxs)("p",{className:"text-4xl font-bold text-purple-400 mb-2",children:[N,"/",i.length]}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:s>=80?"Excellent work!":s>=60?"Good job! Keep practicing!":"Keep practicing to improve!"}),(0,t.jsxs)(l.Button,{onClick:()=>{B(e)},className:"bg-purple-600 hover:bg-purple-700",children:[(0,t.jsx)(o.RefreshCw,{className:"w-4 h-4 mr-2"}),"Play Again"]})]})}let T=i[n],z=(n+1)/i.length*100;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm text-slate-400",children:[(0,t.jsxs)("span",{children:["Question ",n+1," of ",i.length]}),(0,t.jsxs)("span",{children:["Score: ",N]})]}),(0,t.jsx)(g,{value:z,className:"h-2"})]}),(0,t.jsxs)(a.Card,{className:"bg-slate-800/50 border-slate-700 p-8 text-center",children:[(0,t.jsx)("p",{className:"text-sm text-slate-400 mb-4",children:"What does this word mean?"}),(0,t.jsx)("h2",{className:"text-4xl font-bold text-white mb-2",children:T.word.word_zh}),(0,t.jsx)("p",{className:"text-lg text-purple-300",children:T.word.word_pinyin})]}),(0,t.jsx)("div",{className:"grid gap-3",children:T.options.map((e,s)=>(0,t.jsx)("button",{onClick:()=>{!C&&(j(s),S(!0),s===i[n].correctIndex&&y(e=>e+1))},disabled:C,className:(0,x.cn)("w-full p-4 rounded-xl text-left transition-all border-2",!C&&"bg-slate-800 border-slate-700 hover:border-purple-500 hover:bg-slate-700",C&&s===T.correctIndex&&"bg-green-600/20 border-green-500",C&&f===s&&s!==T.correctIndex&&"bg-red-600/20 border-red-500"),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-white",children:e}),C&&s===T.correctIndex&&(0,t.jsx)(d.Check,{className:"w-5 h-5 text-green-400"}),C&&f===s&&s!==T.correctIndex&&(0,t.jsx)(b.X,{className:"w-5 h-5 text-red-400"})]})},s))}),C&&(0,t.jsx)(l.Button,{onClick:()=>{n<i.length-1?(p(e=>e+1),j(null),S(!1)):M(!0)},className:"w-full bg-purple-600 hover:bg-purple-700",children:n<i.length-1?"Next Question":"See Results"})]})}function j(){let[e,d]=(0,s.useState)("menu");return"matching"===e?(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[(0,t.jsxs)(l.Button,{variant:"ghost",className:"mb-4 -ml-2 text-slate-400",onClick:()=>d("menu"),children:[(0,t.jsx)(n.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Games"]}),(0,t.jsx)(p,{})]}):"quiz"===e?(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[(0,t.jsxs)(l.Button,{variant:"ghost",className:"mb-4 -ml-2 text-slate-400",onClick:()=>d("menu"),children:[(0,t.jsx)(n.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Games"]}),(0,t.jsx)(f,{})]}):(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-purple-500/20 flex items-center justify-center",children:(0,t.jsx)(r.Gamepad2,{className:"w-8 h-8 text-purple-400"})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Vocabulary Games"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Make learning fun with interactive games"})]}),(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsx)(a.Card,{className:"bg-slate-800/50 border-slate-700 p-6 hover:border-purple-500/50 transition-colors cursor-pointer",onClick:()=>d("matching"),children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg bg-blue-500/20 flex items-center justify-center",children:(0,t.jsx)(i.Brain,{className:"w-6 h-6 text-blue-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-white mb-1",children:"Matching Game"}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mb-3",children:"Match Chinese characters with their English meanings. Test your recognition skills!"}),(0,t.jsx)(l.Button,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"Play Now"})]})]})}),(0,t.jsx)(a.Card,{className:"bg-slate-800/50 border-slate-700 p-6 hover:border-purple-500/50 transition-colors cursor-pointer",onClick:()=>d("quiz"),children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg bg-green-500/20 flex items-center justify-center",children:(0,t.jsx)(c.Target,{className:"w-6 h-6 text-green-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-white mb-1",children:"Quiz Mode"}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mb-3",children:"Multiple choice questions to test your vocabulary knowledge. How many can you get right?"}),(0,t.jsx)(l.Button,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:"Play Now"})]})]})})]})]})}e.s(["default",()=>j],54924)}]);