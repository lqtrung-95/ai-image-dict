(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},21624,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),i=e.i(59185),l=e.i(6039),o=e.i(66001),n=e.i(11795),c=e.i(41931);function r({params:e}){let{id:r}=(0,s.use)(e),d=(0,a.useRouter)(),[x,u]=(0,s.useState)(null),[h,m]=(0,s.useState)(!0),[p,y]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{let e=(0,n.createClient)(),{data:t,error:s}=await e.from("photo_analyses").select("*, detected_objects(*)").eq("id",r).single();s?y("Analysis not found"):u(t),m(!1)})()},[r]);let b=async e=>{let t=await (0,c.apiFetch)("/api/vocabulary",{method:"POST",body:JSON.stringify(e)});if(!t.ok&&409!==t.status)throw Error("Failed to save word")};return h?(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Analysis"}),(0,t.jsx)(l.AnalysisSkeleton,{})]}):p||!x?(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Analysis"}),(0,t.jsx)(o.ErrorMessage,{title:"Not Found",message:p||"Analysis not found",onRetry:()=>d.push("/history")})]}):(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Analysis Results"}),(0,t.jsx)(i.AnalysisResult,{id:x.id,imageUrl:x.image_url,sceneDescription:x.scene_context?.description,objects:x.detected_objects,onSaveWord:b,onUploadAnother:()=>d.push("/upload")})]})}e.s(["default",()=>r])}]);